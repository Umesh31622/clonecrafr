{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rinku Sheoran\\\\Downloads\\\\frontend\\\\frontend\\\\src\\\\pages\\\\Categories.js\",\n  _s = $RefreshSig$();\n// // import React, { useEffect, useState } from \"react\";\n// // import { Container, Card, Button, Table, Modal, Form, Image } from \"react-bootstrap\";\n// // import { FaPlus, FaEdit, FaTrash } from \"react-icons/fa\";\n// // import axios from \"axios\";\n\n// // const Categories = () => {\n// //   const [categories, setCategories] = useState([]);\n// //   const [showForm, setShowForm] = useState(false);\n// //   const [editId, setEditId] = useState(null);\n// //   const [form, setForm] = useState({\n// //     name: \"\",\n// //     orientation: \"portrait\",\n// //     file: null,\n// //   });\n// //   const [previewUrl, setPreviewUrl] = useState(null);\n// //   const [showPreview, setShowPreview] = useState(false);\n// //   const [objectUrl, setObjectUrl] = useState(null);\n\n// //   const BASE_URL = \"https://clonecraftbackend-gydw.vercel.app/.app/api/categories\";\n\n// //   // Fetch categories\n// //   const fetchCategories = async () => {\n// //     try {\n// //       const { data } = await axios.get(BASE_URL);\n// //       setCategories(data || []);\n// //     } catch (err) {\n// //       console.error(err);\n// //     }\n// //   };\n\n// //   useEffect(() => {\n// //     fetchCategories();\n// //     return () => {\n// //       // cleanup objectUrl on component unmount\n// //       if (objectUrl) URL.revokeObjectURL(objectUrl);\n// //     };\n// //   }, [objectUrl]);\n\n// //   // Show Add/Edit form\n// //   const handleShowForm = (cat = null) => {\n// //     if (cat) {\n// //       setEditId(cat._id);\n// //       setForm({\n// //         name: cat.name,\n// //         orientation: cat.orientation,\n// //         file: null,\n// //       });\n// //       setPreviewUrl(`https://clonecraftbackend-gydw.vercel.app/.app${cat.filePath}`);\n// //     } else {\n// //       setEditId(null);\n// //       setForm({ name: \"\", orientation: \"portrait\", file: null });\n// //       setPreviewUrl(null);\n// //     }\n// //     setShowForm(true);\n// //   };\n\n// //   const handleCloseForm = () => {\n// //     setShowForm(false);\n// //     if (objectUrl) {\n// //       URL.revokeObjectURL(objectUrl);\n// //       setObjectUrl(null);\n// //     }\n// //   };\n\n// //   // Handle form change\n// //   const handleChange = (e) => {\n// //     const { name, value, files } = e.target;\n// //     if (name === \"file\" && files.length > 0) {\n// //       if (objectUrl) URL.revokeObjectURL(objectUrl); // revoke previous\n// //       const file = files[0];\n// //       const url = URL.createObjectURL(file);\n// //       setForm({ ...form, file });\n// //       setPreviewUrl(url);\n// //       setObjectUrl(url);\n// //     } else {\n// //       setForm({ ...form, [name]: value });\n// //     }\n// //   };\n\n// //   // Submit Add/Edit\n// //   const handleSubmit = async () => {\n// //     try {\n// //       if (!form.name) {\n// //         alert(\"Please enter category name!\");\n// //         return;\n// //       }\n\n// //       const fd = new FormData();\n// //       fd.append(\"name\", form.name);\n// //       fd.append(\"orientation\", form.orientation);\n// //       if (form.file) fd.append(\"file\", form.file);\n\n// //       if (editId) {\n// //         await axios.put(`${BASE_URL}/${editId}`, fd, {\n// //           headers: { \"Content-Type\": \"multipart/form-data\" },\n// //         });\n// //       } else {\n// //         await axios.post(BASE_URL, fd, {\n// //           headers: { \"Content-Type\": \"multipart/form-data\" },\n// //         });\n// //       }\n\n// //       fetchCategories();\n// //       handleCloseForm();\n// //     } catch (err) {\n// //       console.error(err);\n// //       alert(\"Something went wrong!\");\n// //     }\n// //   };\n\n// //   // Delete category\n// //   const handleDelete = async (id) => {\n// //     if (!window.confirm(\"Are you sure you want to delete this category?\")) return;\n// //     try {\n// //       await axios.delete(`${BASE_URL}/${id}`);\n// //       fetchCategories();\n// //     } catch (err) {\n// //       console.error(err);\n// //     }\n// //   };\n\n// //   // Preview modal\n// //   const handlePreview = (cat) => {\n// //     setPreviewUrl(`https://clonecraftbackend-gydw.vercel.app/.app${cat.filePath}`);\n// //     setShowPreview(true);\n// //   };\n\n// //   return (\n// //     <Container fluid className=\"p-3\">\n// //       <div className=\"d-flex justify-content-between align-items-center mb-4\">\n// //         <h2 className=\"fw-bold\">Categories Management</h2>\n// //         <Button variant=\"primary\" onClick={() => handleShowForm()}>\n// //           <FaPlus className=\"me-2\" /> Add Category\n// //         </Button>\n// //       </div>\n\n// //       <Card className=\"shadow-sm\">\n// //         <Card.Body>\n// //           <Table responsive hover bordered className=\"align-middle\">\n// //             <thead className=\"table-dark\">\n// //               <tr>\n// //                 <th>Preview</th>\n// //                 <th>Name</th>\n// //                 <th>Orientation</th>\n// //                 <th>Actions</th>\n// //               </tr>\n// //             </thead>\n// //             <tbody>\n// //               {categories.length > 0 ? (\n// //                 categories.map((cat) => (\n// //                   <tr key={cat._id}>\n// //                     <td style={{ width: \"120px\" }}>\n// //                       {cat.filePath?.endsWith(\".mp4\") || cat.filePath?.endsWith(\".mov\") ? (\n// //                         <video\n// //                           src={`https://clonecraftbackend-gydw.vercel.app/.app${cat.filePath}`}\n// //                           width=\"100\"\n// //                           height=\"70\"\n// //                           controls\n// //                         />\n// //                       ) : (\n// //                         <Image\n// //                           src={`https://clonecraftbackend-gydw.vercel.app/.app${cat.filePath}`}\n// //                           alt={cat.name}\n// //                           width=\"100\"\n// //                           height=\"70\"\n// //                           style={{ objectFit: \"cover\" }}\n// //                           rounded\n// //                         />\n// //                       )}\n// //                     </td>\n// //                     <td>{cat.name}</td>\n// //                     <td>{cat.orientation}</td>\n// //                     <td>\n// //                       <Button\n// //                         variant=\"info\"\n// //                         size=\"sm\"\n// //                         className=\"me-2\"\n// //                         onClick={() => handlePreview(cat)}\n// //                       >\n// //                         Preview\n// //                       </Button>\n// //                       <Button\n// //                         variant=\"primary\"\n// //                         size=\"sm\"\n// //                         className=\"me-2\"\n// //                         onClick={() => handleShowForm(cat)}\n// //                       >\n// //                         <FaEdit />\n// //                       </Button>\n// //                       <Button\n// //                         variant=\"danger\"\n// //                         size=\"sm\"\n// //                         onClick={() => handleDelete(cat._id)}\n// //                       >\n// //                         <FaTrash />\n// //                       </Button>\n// //                     </td>\n// //                   </tr>\n// //                 ))\n// //               ) : (\n// //                 <tr>\n// //                   <td colSpan=\"4\" className=\"text-center text-muted\">\n// //                     No categories found\n// //                   </td>\n// //                 </tr>\n// //               )}\n// //             </tbody>\n// //           </Table>\n// //         </Card.Body>\n// //       </Card>\n\n// //       {/* Add/Edit Modal */}\n// //       <Modal show={showForm} onHide={handleCloseForm} centered>\n// //         <Modal.Header closeButton>\n// //           <Modal.Title>{editId ? \"Edit Category\" : \"Add Category\"}</Modal.Title>\n// //         </Modal.Header>\n// //         <Modal.Body>\n// //           <Form>\n// //             <Form.Group className=\"mb-3\">\n// //               <Form.Label>Name</Form.Label>\n// //               <Form.Control\n// //                 name=\"name\"\n// //                 value={form.name}\n// //                 onChange={handleChange}\n// //                 placeholder=\"Enter category name\"\n// //               />\n// //             </Form.Group>\n\n// //             <Form.Group className=\"mb-3\">\n// //               <Form.Label>Orientation</Form.Label>\n// //               <Form.Select\n// //                 name=\"orientation\"\n// //                 value={form.orientation}\n// //                 onChange={handleChange}\n// //               >\n// //                 <option value=\"portrait\">Portrait</option>\n// //                 <option value=\"landscape\">Landscape</option>\n// //               </Form.Select>\n// //             </Form.Group>\n\n// //             <Form.Group className=\"mb-3\">\n// //               <Form.Label>Upload Image / Video</Form.Label>\n// //               <Form.Control type=\"file\" name=\"file\" onChange={handleChange} />\n// //               {previewUrl && (\n// //                 <div className=\"mt-3 text-center\">\n// //                   {previewUrl.endsWith(\".mp4\") || previewUrl.endsWith(\".mov\") ? (\n// //                     <video\n// //                       src={previewUrl}\n// //                       width=\"200\"\n// //                       height=\"120\"\n// //                       controls\n// //                       className=\"rounded\"\n// //                     />\n// //                   ) : (\n// //                     <Image\n// //                       src={previewUrl}\n// //                       alt=\"Preview\"\n// //                       width=\"200\"\n// //                       height=\"120\"\n// //                       className=\"rounded\"\n// //                     />\n// //                   )}\n// //                 </div>\n// //               )}\n// //             </Form.Group>\n// //           </Form>\n// //         </Modal.Body>\n// //         <Modal.Footer>\n// //           <Button variant=\"secondary\" onClick={handleCloseForm}>\n// //             Cancel\n// //           </Button>\n// //           <Button variant=\"primary\" onClick={handleSubmit}>\n// //             Save\n// //           </Button>\n// //         </Modal.Footer>\n// //       </Modal>\n\n// //       {/* Preview Modal */}\n// //       <Modal\n// //         show={showPreview}\n// //         onHide={() => setShowPreview(false)}\n// //         centered\n// //         size=\"lg\"\n// //       >\n// //         <Modal.Header closeButton>\n// //           <Modal.Title>Preview</Modal.Title>\n// //         </Modal.Header>\n// //         <Modal.Body className=\"text-center\">\n// //           {previewUrl?.endsWith(\".mp4\") || previewUrl?.endsWith(\".mov\") ? (\n// //             <video\n// //               src={previewUrl}\n// //               width=\"100%\"\n// //               height=\"auto\"\n// //               controls\n// //               className=\"rounded\"\n// //             />\n// //           ) : (\n// //             <Image src={previewUrl} width=\"100%\" height=\"auto\" className=\"rounded\" />\n// //           )}\n// //         </Modal.Body>\n// //       </Modal>\n// //     </Container>\n// //   );\n// // };\n\n// // export default Categories;\n// import React, { useEffect, useState } from \"react\";\n// import { Container, Card, Button, Table, Modal, Form, Image } from \"react-bootstrap\";\n// import { FaPlus, FaEdit, FaTrash } from \"react-icons/fa\";\n// import axios from \"axios\";\n\n// const Categories = () => {\n//   const [categories, setCategories] = useState([]);\n//   const [showForm, setShowForm] = useState(false);\n//   const [editId, setEditId] = useState(null);\n//   const [form, setForm] = useState({ name: \"\", orientation: \"portrait\", file: null });\n//   const [previewUrl, setPreviewUrl] = useState(null);\n//   const [showPreview, setShowPreview] = useState(false);\n\n//   const BASE_URL = \"https://clonecraftbackend-gydw.vercel.app/api/categories\";\n\n//   // Fetch categories\n//   const fetchCategories = async () => {\n//     try {\n//       const { data } = await axios.get(BASE_URL);\n//       setCategories(data || []);\n//     } catch (err) {\n//       console.error(err);\n//     }\n//   };\n\n//   useEffect(() => {\n//     fetchCategories();\n//   }, []);\n\n//   const handleShowForm = (cat = null) => {\n//     if (cat) {\n//       setEditId(cat._id);\n//       setForm({ name: cat.name, orientation: cat.orientation, file: null });\n//       setPreviewUrl(cat.filePath);\n//     } else {\n//       setEditId(null);\n//       setForm({ name: \"\", orientation: \"portrait\", file: null });\n//       setPreviewUrl(null);\n//     }\n//     setShowForm(true);\n//   };\n\n//   const handleCloseForm = () => setShowForm(false);\n\n//   const handleChange = (e) => {\n//     const { name, value, files } = e.target;\n//     if (name === \"file\" && files.length > 0) {\n//       const file = files[0];\n//       const allowedTypes = [\"image/jpeg\", \"image/png\", \"image/jpg\", \"image/webp\"];\n//       if (!allowedTypes.includes(file.type)) return alert(\"Only image files allowed\");\n//       setForm({ ...form, file });\n//       setPreviewUrl(URL.createObjectURL(file));\n//     } else {\n//       setForm({ ...form, [name]: value });\n//     }\n//   };\n\n//   const handleSubmit = async () => {\n//     try {\n//       if (!form.name) return alert(\"Name required\");\n\n//       const fd = new FormData();\n//       fd.append(\"name\", form.name);\n//       fd.append(\"orientation\", form.orientation);\n//       if (form.file) fd.append(\"file\", form.file);\n\n//       if (editId) await axios.put(`${BASE_URL}/${editId}`, fd);\n//       else await axios.post(BASE_URL, fd);\n\n//       fetchCategories();\n//       handleCloseForm();\n//     } catch (err) {\n//       console.error(err);\n//       alert(\"Something went wrong\");\n//     }\n//   };\n\n//   const handleDelete = async (id) => {\n//     if (!window.confirm(\"Delete this category?\")) return;\n//     await axios.delete(`${BASE_URL}/${id}`);\n//     fetchCategories();\n//   };\n\n//   return (\n//     <Container className=\"p-3\">\n//       <div className=\"d-flex justify-content-between mb-3\">\n//         <h2>Categories Management</h2>\n//         <Button onClick={() => handleShowForm()}><FaPlus /> Add Category</Button>\n//       </div>\n\n//       <Card>\n//         <Card.Body>\n//           <Table responsive hover bordered>\n//             <thead className=\"table-dark\">\n//               <tr>\n//                 <th>Preview</th>\n//                 <th>Name</th>\n//                 <th>Orientation</th>\n//                 <th>Actions</th>\n//               </tr>\n//             </thead>\n//             <tbody>\n//               {categories.length > 0 ? categories.map((cat) => (\n//                 <tr key={cat._id}>\n//                   <td>\n//                     {cat.filePath && <Image src={cat.filePath} width={100} height={70} style={{ objectFit: \"cover\" }} />}\n//                   </td>\n//                   <td>{cat.name}</td>\n//                   <td>{cat.orientation}</td>\n//                   <td>\n//                     <Button size=\"sm\" className=\"me-2\" onClick={() => handleShowForm(cat)}><FaEdit /></Button>\n//                     <Button size=\"sm\" variant=\"danger\" onClick={() => handleDelete(cat._id)}><FaTrash /></Button>\n//                     <Button size=\"sm\" variant=\"info\" className=\"ms-2\" onClick={() => { setPreviewUrl(cat.filePath); setShowPreview(true); }}>Preview</Button>\n//                   </td>\n//                 </tr>\n//               )) : <tr><td colSpan={4} className=\"text-center\">No categories</td></tr>}\n//             </tbody>\n//           </Table>\n//         </Card.Body>\n//       </Card>\n\n//       {/* Add/Edit Modal */}\n//       <Modal show={showForm} onHide={handleCloseForm}>\n//         <Modal.Header closeButton>\n//           <Modal.Title>{editId ? \"Edit\" : \"Add\"} Category</Modal.Title>\n//         </Modal.Header>\n//         <Modal.Body>\n//           <Form>\n//             <Form.Group className=\"mb-3\">\n//               <Form.Label>Name</Form.Label>\n//               <Form.Control name=\"name\" value={form.name} onChange={handleChange} />\n//             </Form.Group>\n\n//             <Form.Group className=\"mb-3\">\n//               <Form.Label>Orientation</Form.Label>\n//               <Form.Select name=\"orientation\" value={form.orientation} onChange={handleChange}>\n//                 <option value=\"portrait\">Portrait</option>\n//                 <option value=\"landscape\">Landscape</option>\n//               </Form.Select>\n//             </Form.Group>\n\n//             <Form.Group className=\"mb-3\">\n//               <Form.Label>Image</Form.Label>\n//               <Form.Control type=\"file\" name=\"file\" accept=\"image/*\" onChange={handleChange} />\n//               {previewUrl && <Image src={previewUrl} width={200} height={120} style={{ objectFit: \"cover\" }} />}\n//             </Form.Group>\n//           </Form>\n//         </Modal.Body>\n//         <Modal.Footer>\n//           <Button variant=\"secondary\" onClick={handleCloseForm}>Cancel</Button>\n//           <Button variant=\"primary\" onClick={handleSubmit}>Save</Button>\n//         </Modal.Footer>\n//       </Modal>\n\n//       {/* Preview Modal */}\n//       <Modal show={!!showPreview} onHide={() => setShowPreview(false)}>\n//         <Modal.Header closeButton><Modal.Title>Preview</Modal.Title></Modal.Header>\n//         <Modal.Body className=\"text-center\">\n//           <Image src={previewUrl} width=\"100%\" style={{ objectFit: \"cover\" }} />\n//         </Modal.Body>\n//       </Modal>\n//     </Container>\n//   );\n// };\n\n// export default Categories;\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { toast } from \"react-toastify\";\nimport { Table, Button, Form, Spinner } from \"react-bootstrap\";\nimport \"./Categories.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE = \"http://localhost:7000/api/categories\"; // Category API\nconst FRAME_URL = \"http://localhost:7000/api/frames\"; // Frames API\n\nconst Categories = () => {\n  _s();\n  const [categories, setCategories] = useState([]);\n  const [frames, setFrames] = useState([]);\n  const [form, setForm] = useState({\n    name: \"\",\n    orientation: \"portrait\",\n    frame: \"\",\n    file: null\n  });\n  const [loading, setLoading] = useState(false);\n  const [editingId, setEditingId] = useState(null);\n\n  // ================================\n  // Fetch All Categories\n  // ================================\n  const fetchCategories = async () => {\n    try {\n      const {\n        data\n      } = await axios.get(API_BASE);\n      if (Array.isArray(data)) setCategories(data);else if (Array.isArray(data.data)) setCategories(data.data);else setCategories([]);\n    } catch (err) {\n      console.error(\"Category fetch error:\", err);\n      toast.error(\"Failed to load categories\");\n    }\n  };\n\n  // ================================\n  // Fetch Frames for Dropdown\n  // ================================\n  const fetchFrames = async () => {\n    try {\n      const {\n        data\n      } = await axios.get(FRAME_URL);\n      console.log(\"Frames API response:\", data);\n      if (Array.isArray(data)) setFrames(data);else if (data !== null && data !== void 0 && data.data && Array.isArray(data.data)) setFrames(data.data);else setFrames([]);\n    } catch (err) {\n      console.error(\"Frame fetch error:\", err);\n      setFrames([]);\n    }\n  };\n  useEffect(() => {\n    fetchCategories();\n    fetchFrames();\n  }, []);\n\n  // ================================\n  // Handle Input Change\n  // ================================\n  const handleChange = e => {\n    const {\n      name,\n      value,\n      files\n    } = e.target;\n    if (name === \"file\") {\n      setForm({\n        ...form,\n        file: files[0]\n      });\n    } else {\n      setForm({\n        ...form,\n        [name]: value\n      });\n    }\n  };\n\n  // ================================\n  // Handle Submit (Add or Update)\n  // ================================\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append(\"name\", form.name);\n    formData.append(\"orientation\", form.orientation);\n    formData.append(\"frame\", form.frame);\n    if (form.file) formData.append(\"file\", form.file);\n    try {\n      setLoading(true);\n      if (editingId) {\n        await axios.put(`${API_BASE}/${editingId}`, formData);\n        toast.success(\"Category updated successfully!\");\n      } else {\n        await axios.post(API_BASE, formData);\n        toast.success(\"Category added successfully!\");\n      }\n      setForm({\n        name: \"\",\n        orientation: \"portrait\",\n        frame: \"\",\n        file: null\n      });\n      setEditingId(null);\n      fetchCategories();\n    } catch (err) {\n      console.error(\"Save category error:\", err);\n      toast.error(\"Failed to save category\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // ================================\n  // Edit Handler\n  // ================================\n  const handleEdit = category => {\n    var _category$frame;\n    setForm({\n      name: category.name,\n      orientation: category.orientation,\n      frame: ((_category$frame = category.frame) === null || _category$frame === void 0 ? void 0 : _category$frame._id) || \"\",\n      file: null\n    });\n    setEditingId(category._id);\n  };\n\n  // ================================\n  // Delete Handler\n  // ================================\n  const handleDelete = async id => {\n    if (!window.confirm(\"Are you sure you want to delete this category?\")) return;\n    try {\n      await axios.delete(`${API_BASE}/${id}`);\n      toast.success(\"Category deleted successfully!\");\n      fetchCategories();\n    } catch (err) {\n      console.error(\"Delete category error:\", err);\n      toast.error(\"Failed to delete category\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"category-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Manage Categories\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 608,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: handleSubmit,\n      className: \"category-form\",\n      children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Category Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 612,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"text\",\n          name: \"name\",\n          value: form.name,\n          onChange: handleChange,\n          placeholder: \"Enter category name\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 613,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 611,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Orientation\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 624,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n          name: \"orientation\",\n          value: form.orientation,\n          onChange: handleChange,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"portrait\",\n            children: \"Portrait\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 630,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"landscape\",\n            children: \"Landscape\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 631,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 625,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 623,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Select Frame\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 636,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n          name: \"frame\",\n          value: form.frame,\n          onChange: handleChange,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Select Frame\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 638,\n            columnNumber: 13\n          }, this), frames.map(f => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: f._id,\n            children: f.title || f.name\n          }, f._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 640,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 637,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 635,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Upload File\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 648,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"file\",\n          name: \"file\",\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 649,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 647,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        disabled: loading,\n        className: \"submit-btn\",\n        children: [loading ? /*#__PURE__*/_jsxDEV(Spinner, {\n          animation: \"border\",\n          size: \"sm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 653,\n          columnNumber: 22\n        }, this) : editingId ? \"Update\" : \"Add\", \" Category\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 652,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 610,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 657,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n      children: \"Category List\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 659,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      bordered: true,\n      hover: true,\n      responsive: true,\n      className: \"category-table\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 663,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Orientation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 664,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Frame\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 665,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 666,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 667,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Actions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 668,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 662,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 661,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: categories.length > 0 ? categories.map(cat => {\n          var _cat$frame, _cat$frame2;\n          return /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: cat.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 675,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: cat.orientation\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 676,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: ((_cat$frame = cat.frame) === null || _cat$frame === void 0 ? void 0 : _cat$frame.title) || ((_cat$frame2 = cat.frame) === null || _cat$frame2 === void 0 ? void 0 : _cat$frame2.name) || \"â€”\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 677,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: cat.filePath ? /*#__PURE__*/_jsxDEV(\"img\", {\n                src: cat.filePath,\n                alt: cat.name,\n                style: {\n                  width: 60,\n                  height: 60,\n                  borderRadius: \"8px\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 680,\n                columnNumber: 21\n              }, this) : \"No Image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 678,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: cat.status\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 689,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                size: \"sm\",\n                variant: \"warning\",\n                onClick: () => handleEdit(cat),\n                children: \"Edit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 691,\n                columnNumber: 19\n              }, this), \" \", /*#__PURE__*/_jsxDEV(Button, {\n                size: \"sm\",\n                variant: \"danger\",\n                onClick: () => handleDelete(cat._id),\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 698,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 690,\n              columnNumber: 17\n            }, this)]\n          }, cat._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 674,\n            columnNumber: 15\n          }, this);\n        }) : /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: /*#__PURE__*/_jsxDEV(\"td\", {\n            colSpan: 6,\n            className: \"text-center\",\n            children: \"No categories found\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 710,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 709,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 671,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 660,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 607,\n    columnNumber: 5\n  }, this);\n};\n_s(Categories, \"mBR7UWbfeGuqQLgRu2epF763JeY=\");\n_c = Categories;\nexport default Categories;\nvar _c;\n$RefreshReg$(_c, \"Categories\");","map":{"version":3,"names":["React","useEffect","useState","axios","toast","Table","Button","Form","Spinner","jsxDEV","_jsxDEV","API_BASE","FRAME_URL","Categories","_s","categories","setCategories","frames","setFrames","form","setForm","name","orientation","frame","file","loading","setLoading","editingId","setEditingId","fetchCategories","data","get","Array","isArray","err","console","error","fetchFrames","log","handleChange","e","value","files","target","handleSubmit","preventDefault","formData","FormData","append","put","success","post","handleEdit","category","_category$frame","_id","handleDelete","id","window","confirm","delete","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","Group","Label","Control","type","onChange","placeholder","required","Select","map","f","title","disabled","animation","size","bordered","hover","responsive","length","cat","_cat$frame","_cat$frame2","filePath","src","alt","style","width","height","borderRadius","status","variant","onClick","colSpan","_c","$RefreshReg$"],"sources":["C:/Users/Rinku Sheoran/Downloads/frontend/frontend/src/pages/Categories.js"],"sourcesContent":["\n\n// // import React, { useEffect, useState } from \"react\";\n// // import { Container, Card, Button, Table, Modal, Form, Image } from \"react-bootstrap\";\n// // import { FaPlus, FaEdit, FaTrash } from \"react-icons/fa\";\n// // import axios from \"axios\";\n\n// // const Categories = () => {\n// //   const [categories, setCategories] = useState([]);\n// //   const [showForm, setShowForm] = useState(false);\n// //   const [editId, setEditId] = useState(null);\n// //   const [form, setForm] = useState({\n// //     name: \"\",\n// //     orientation: \"portrait\",\n// //     file: null,\n// //   });\n// //   const [previewUrl, setPreviewUrl] = useState(null);\n// //   const [showPreview, setShowPreview] = useState(false);\n// //   const [objectUrl, setObjectUrl] = useState(null);\n\n// //   const BASE_URL = \"https://clonecraftbackend-gydw.vercel.app/.app/api/categories\";\n\n// //   // Fetch categories\n// //   const fetchCategories = async () => {\n// //     try {\n// //       const { data } = await axios.get(BASE_URL);\n// //       setCategories(data || []);\n// //     } catch (err) {\n// //       console.error(err);\n// //     }\n// //   };\n\n// //   useEffect(() => {\n// //     fetchCategories();\n// //     return () => {\n// //       // cleanup objectUrl on component unmount\n// //       if (objectUrl) URL.revokeObjectURL(objectUrl);\n// //     };\n// //   }, [objectUrl]);\n\n// //   // Show Add/Edit form\n// //   const handleShowForm = (cat = null) => {\n// //     if (cat) {\n// //       setEditId(cat._id);\n// //       setForm({\n// //         name: cat.name,\n// //         orientation: cat.orientation,\n// //         file: null,\n// //       });\n// //       setPreviewUrl(`https://clonecraftbackend-gydw.vercel.app/.app${cat.filePath}`);\n// //     } else {\n// //       setEditId(null);\n// //       setForm({ name: \"\", orientation: \"portrait\", file: null });\n// //       setPreviewUrl(null);\n// //     }\n// //     setShowForm(true);\n// //   };\n\n// //   const handleCloseForm = () => {\n// //     setShowForm(false);\n// //     if (objectUrl) {\n// //       URL.revokeObjectURL(objectUrl);\n// //       setObjectUrl(null);\n// //     }\n// //   };\n\n// //   // Handle form change\n// //   const handleChange = (e) => {\n// //     const { name, value, files } = e.target;\n// //     if (name === \"file\" && files.length > 0) {\n// //       if (objectUrl) URL.revokeObjectURL(objectUrl); // revoke previous\n// //       const file = files[0];\n// //       const url = URL.createObjectURL(file);\n// //       setForm({ ...form, file });\n// //       setPreviewUrl(url);\n// //       setObjectUrl(url);\n// //     } else {\n// //       setForm({ ...form, [name]: value });\n// //     }\n// //   };\n\n// //   // Submit Add/Edit\n// //   const handleSubmit = async () => {\n// //     try {\n// //       if (!form.name) {\n// //         alert(\"Please enter category name!\");\n// //         return;\n// //       }\n\n// //       const fd = new FormData();\n// //       fd.append(\"name\", form.name);\n// //       fd.append(\"orientation\", form.orientation);\n// //       if (form.file) fd.append(\"file\", form.file);\n\n// //       if (editId) {\n// //         await axios.put(`${BASE_URL}/${editId}`, fd, {\n// //           headers: { \"Content-Type\": \"multipart/form-data\" },\n// //         });\n// //       } else {\n// //         await axios.post(BASE_URL, fd, {\n// //           headers: { \"Content-Type\": \"multipart/form-data\" },\n// //         });\n// //       }\n\n// //       fetchCategories();\n// //       handleCloseForm();\n// //     } catch (err) {\n// //       console.error(err);\n// //       alert(\"Something went wrong!\");\n// //     }\n// //   };\n\n// //   // Delete category\n// //   const handleDelete = async (id) => {\n// //     if (!window.confirm(\"Are you sure you want to delete this category?\")) return;\n// //     try {\n// //       await axios.delete(`${BASE_URL}/${id}`);\n// //       fetchCategories();\n// //     } catch (err) {\n// //       console.error(err);\n// //     }\n// //   };\n\n// //   // Preview modal\n// //   const handlePreview = (cat) => {\n// //     setPreviewUrl(`https://clonecraftbackend-gydw.vercel.app/.app${cat.filePath}`);\n// //     setShowPreview(true);\n// //   };\n\n// //   return (\n// //     <Container fluid className=\"p-3\">\n// //       <div className=\"d-flex justify-content-between align-items-center mb-4\">\n// //         <h2 className=\"fw-bold\">Categories Management</h2>\n// //         <Button variant=\"primary\" onClick={() => handleShowForm()}>\n// //           <FaPlus className=\"me-2\" /> Add Category\n// //         </Button>\n// //       </div>\n\n// //       <Card className=\"shadow-sm\">\n// //         <Card.Body>\n// //           <Table responsive hover bordered className=\"align-middle\">\n// //             <thead className=\"table-dark\">\n// //               <tr>\n// //                 <th>Preview</th>\n// //                 <th>Name</th>\n// //                 <th>Orientation</th>\n// //                 <th>Actions</th>\n// //               </tr>\n// //             </thead>\n// //             <tbody>\n// //               {categories.length > 0 ? (\n// //                 categories.map((cat) => (\n// //                   <tr key={cat._id}>\n// //                     <td style={{ width: \"120px\" }}>\n// //                       {cat.filePath?.endsWith(\".mp4\") || cat.filePath?.endsWith(\".mov\") ? (\n// //                         <video\n// //                           src={`https://clonecraftbackend-gydw.vercel.app/.app${cat.filePath}`}\n// //                           width=\"100\"\n// //                           height=\"70\"\n// //                           controls\n// //                         />\n// //                       ) : (\n// //                         <Image\n// //                           src={`https://clonecraftbackend-gydw.vercel.app/.app${cat.filePath}`}\n// //                           alt={cat.name}\n// //                           width=\"100\"\n// //                           height=\"70\"\n// //                           style={{ objectFit: \"cover\" }}\n// //                           rounded\n// //                         />\n// //                       )}\n// //                     </td>\n// //                     <td>{cat.name}</td>\n// //                     <td>{cat.orientation}</td>\n// //                     <td>\n// //                       <Button\n// //                         variant=\"info\"\n// //                         size=\"sm\"\n// //                         className=\"me-2\"\n// //                         onClick={() => handlePreview(cat)}\n// //                       >\n// //                         Preview\n// //                       </Button>\n// //                       <Button\n// //                         variant=\"primary\"\n// //                         size=\"sm\"\n// //                         className=\"me-2\"\n// //                         onClick={() => handleShowForm(cat)}\n// //                       >\n// //                         <FaEdit />\n// //                       </Button>\n// //                       <Button\n// //                         variant=\"danger\"\n// //                         size=\"sm\"\n// //                         onClick={() => handleDelete(cat._id)}\n// //                       >\n// //                         <FaTrash />\n// //                       </Button>\n// //                     </td>\n// //                   </tr>\n// //                 ))\n// //               ) : (\n// //                 <tr>\n// //                   <td colSpan=\"4\" className=\"text-center text-muted\">\n// //                     No categories found\n// //                   </td>\n// //                 </tr>\n// //               )}\n// //             </tbody>\n// //           </Table>\n// //         </Card.Body>\n// //       </Card>\n\n// //       {/* Add/Edit Modal */}\n// //       <Modal show={showForm} onHide={handleCloseForm} centered>\n// //         <Modal.Header closeButton>\n// //           <Modal.Title>{editId ? \"Edit Category\" : \"Add Category\"}</Modal.Title>\n// //         </Modal.Header>\n// //         <Modal.Body>\n// //           <Form>\n// //             <Form.Group className=\"mb-3\">\n// //               <Form.Label>Name</Form.Label>\n// //               <Form.Control\n// //                 name=\"name\"\n// //                 value={form.name}\n// //                 onChange={handleChange}\n// //                 placeholder=\"Enter category name\"\n// //               />\n// //             </Form.Group>\n\n// //             <Form.Group className=\"mb-3\">\n// //               <Form.Label>Orientation</Form.Label>\n// //               <Form.Select\n// //                 name=\"orientation\"\n// //                 value={form.orientation}\n// //                 onChange={handleChange}\n// //               >\n// //                 <option value=\"portrait\">Portrait</option>\n// //                 <option value=\"landscape\">Landscape</option>\n// //               </Form.Select>\n// //             </Form.Group>\n\n// //             <Form.Group className=\"mb-3\">\n// //               <Form.Label>Upload Image / Video</Form.Label>\n// //               <Form.Control type=\"file\" name=\"file\" onChange={handleChange} />\n// //               {previewUrl && (\n// //                 <div className=\"mt-3 text-center\">\n// //                   {previewUrl.endsWith(\".mp4\") || previewUrl.endsWith(\".mov\") ? (\n// //                     <video\n// //                       src={previewUrl}\n// //                       width=\"200\"\n// //                       height=\"120\"\n// //                       controls\n// //                       className=\"rounded\"\n// //                     />\n// //                   ) : (\n// //                     <Image\n// //                       src={previewUrl}\n// //                       alt=\"Preview\"\n// //                       width=\"200\"\n// //                       height=\"120\"\n// //                       className=\"rounded\"\n// //                     />\n// //                   )}\n// //                 </div>\n// //               )}\n// //             </Form.Group>\n// //           </Form>\n// //         </Modal.Body>\n// //         <Modal.Footer>\n// //           <Button variant=\"secondary\" onClick={handleCloseForm}>\n// //             Cancel\n// //           </Button>\n// //           <Button variant=\"primary\" onClick={handleSubmit}>\n// //             Save\n// //           </Button>\n// //         </Modal.Footer>\n// //       </Modal>\n\n// //       {/* Preview Modal */}\n// //       <Modal\n// //         show={showPreview}\n// //         onHide={() => setShowPreview(false)}\n// //         centered\n// //         size=\"lg\"\n// //       >\n// //         <Modal.Header closeButton>\n// //           <Modal.Title>Preview</Modal.Title>\n// //         </Modal.Header>\n// //         <Modal.Body className=\"text-center\">\n// //           {previewUrl?.endsWith(\".mp4\") || previewUrl?.endsWith(\".mov\") ? (\n// //             <video\n// //               src={previewUrl}\n// //               width=\"100%\"\n// //               height=\"auto\"\n// //               controls\n// //               className=\"rounded\"\n// //             />\n// //           ) : (\n// //             <Image src={previewUrl} width=\"100%\" height=\"auto\" className=\"rounded\" />\n// //           )}\n// //         </Modal.Body>\n// //       </Modal>\n// //     </Container>\n// //   );\n// // };\n\n// // export default Categories;\n// import React, { useEffect, useState } from \"react\";\n// import { Container, Card, Button, Table, Modal, Form, Image } from \"react-bootstrap\";\n// import { FaPlus, FaEdit, FaTrash } from \"react-icons/fa\";\n// import axios from \"axios\";\n\n// const Categories = () => {\n//   const [categories, setCategories] = useState([]);\n//   const [showForm, setShowForm] = useState(false);\n//   const [editId, setEditId] = useState(null);\n//   const [form, setForm] = useState({ name: \"\", orientation: \"portrait\", file: null });\n//   const [previewUrl, setPreviewUrl] = useState(null);\n//   const [showPreview, setShowPreview] = useState(false);\n\n//   const BASE_URL = \"https://clonecraftbackend-gydw.vercel.app/api/categories\";\n\n//   // Fetch categories\n//   const fetchCategories = async () => {\n//     try {\n//       const { data } = await axios.get(BASE_URL);\n//       setCategories(data || []);\n//     } catch (err) {\n//       console.error(err);\n//     }\n//   };\n\n//   useEffect(() => {\n//     fetchCategories();\n//   }, []);\n\n//   const handleShowForm = (cat = null) => {\n//     if (cat) {\n//       setEditId(cat._id);\n//       setForm({ name: cat.name, orientation: cat.orientation, file: null });\n//       setPreviewUrl(cat.filePath);\n//     } else {\n//       setEditId(null);\n//       setForm({ name: \"\", orientation: \"portrait\", file: null });\n//       setPreviewUrl(null);\n//     }\n//     setShowForm(true);\n//   };\n\n//   const handleCloseForm = () => setShowForm(false);\n\n//   const handleChange = (e) => {\n//     const { name, value, files } = e.target;\n//     if (name === \"file\" && files.length > 0) {\n//       const file = files[0];\n//       const allowedTypes = [\"image/jpeg\", \"image/png\", \"image/jpg\", \"image/webp\"];\n//       if (!allowedTypes.includes(file.type)) return alert(\"Only image files allowed\");\n//       setForm({ ...form, file });\n//       setPreviewUrl(URL.createObjectURL(file));\n//     } else {\n//       setForm({ ...form, [name]: value });\n//     }\n//   };\n\n//   const handleSubmit = async () => {\n//     try {\n//       if (!form.name) return alert(\"Name required\");\n\n//       const fd = new FormData();\n//       fd.append(\"name\", form.name);\n//       fd.append(\"orientation\", form.orientation);\n//       if (form.file) fd.append(\"file\", form.file);\n\n//       if (editId) await axios.put(`${BASE_URL}/${editId}`, fd);\n//       else await axios.post(BASE_URL, fd);\n\n//       fetchCategories();\n//       handleCloseForm();\n//     } catch (err) {\n//       console.error(err);\n//       alert(\"Something went wrong\");\n//     }\n//   };\n\n//   const handleDelete = async (id) => {\n//     if (!window.confirm(\"Delete this category?\")) return;\n//     await axios.delete(`${BASE_URL}/${id}`);\n//     fetchCategories();\n//   };\n\n//   return (\n//     <Container className=\"p-3\">\n//       <div className=\"d-flex justify-content-between mb-3\">\n//         <h2>Categories Management</h2>\n//         <Button onClick={() => handleShowForm()}><FaPlus /> Add Category</Button>\n//       </div>\n\n//       <Card>\n//         <Card.Body>\n//           <Table responsive hover bordered>\n//             <thead className=\"table-dark\">\n//               <tr>\n//                 <th>Preview</th>\n//                 <th>Name</th>\n//                 <th>Orientation</th>\n//                 <th>Actions</th>\n//               </tr>\n//             </thead>\n//             <tbody>\n//               {categories.length > 0 ? categories.map((cat) => (\n//                 <tr key={cat._id}>\n//                   <td>\n//                     {cat.filePath && <Image src={cat.filePath} width={100} height={70} style={{ objectFit: \"cover\" }} />}\n//                   </td>\n//                   <td>{cat.name}</td>\n//                   <td>{cat.orientation}</td>\n//                   <td>\n//                     <Button size=\"sm\" className=\"me-2\" onClick={() => handleShowForm(cat)}><FaEdit /></Button>\n//                     <Button size=\"sm\" variant=\"danger\" onClick={() => handleDelete(cat._id)}><FaTrash /></Button>\n//                     <Button size=\"sm\" variant=\"info\" className=\"ms-2\" onClick={() => { setPreviewUrl(cat.filePath); setShowPreview(true); }}>Preview</Button>\n//                   </td>\n//                 </tr>\n//               )) : <tr><td colSpan={4} className=\"text-center\">No categories</td></tr>}\n//             </tbody>\n//           </Table>\n//         </Card.Body>\n//       </Card>\n\n//       {/* Add/Edit Modal */}\n//       <Modal show={showForm} onHide={handleCloseForm}>\n//         <Modal.Header closeButton>\n//           <Modal.Title>{editId ? \"Edit\" : \"Add\"} Category</Modal.Title>\n//         </Modal.Header>\n//         <Modal.Body>\n//           <Form>\n//             <Form.Group className=\"mb-3\">\n//               <Form.Label>Name</Form.Label>\n//               <Form.Control name=\"name\" value={form.name} onChange={handleChange} />\n//             </Form.Group>\n\n//             <Form.Group className=\"mb-3\">\n//               <Form.Label>Orientation</Form.Label>\n//               <Form.Select name=\"orientation\" value={form.orientation} onChange={handleChange}>\n//                 <option value=\"portrait\">Portrait</option>\n//                 <option value=\"landscape\">Landscape</option>\n//               </Form.Select>\n//             </Form.Group>\n\n//             <Form.Group className=\"mb-3\">\n//               <Form.Label>Image</Form.Label>\n//               <Form.Control type=\"file\" name=\"file\" accept=\"image/*\" onChange={handleChange} />\n//               {previewUrl && <Image src={previewUrl} width={200} height={120} style={{ objectFit: \"cover\" }} />}\n//             </Form.Group>\n//           </Form>\n//         </Modal.Body>\n//         <Modal.Footer>\n//           <Button variant=\"secondary\" onClick={handleCloseForm}>Cancel</Button>\n//           <Button variant=\"primary\" onClick={handleSubmit}>Save</Button>\n//         </Modal.Footer>\n//       </Modal>\n\n//       {/* Preview Modal */}\n//       <Modal show={!!showPreview} onHide={() => setShowPreview(false)}>\n//         <Modal.Header closeButton><Modal.Title>Preview</Modal.Title></Modal.Header>\n//         <Modal.Body className=\"text-center\">\n//           <Image src={previewUrl} width=\"100%\" style={{ objectFit: \"cover\" }} />\n//         </Modal.Body>\n//       </Modal>\n//     </Container>\n//   );\n// };\n\n// export default Categories;\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { toast } from \"react-toastify\";\nimport { Table, Button, Form, Spinner } from \"react-bootstrap\";\nimport \"./Categories.css\";\n\nconst API_BASE = \"http://localhost:7000/api/categories\"; // Category API\nconst FRAME_URL = \"http://localhost:7000/api/frames\"; // Frames API\n\nconst Categories = () => {\n  const [categories, setCategories] = useState([]);\n  const [frames, setFrames] = useState([]);\n  const [form, setForm] = useState({\n    name: \"\",\n    orientation: \"portrait\",\n    frame: \"\",\n    file: null,\n  });\n  const [loading, setLoading] = useState(false);\n  const [editingId, setEditingId] = useState(null);\n\n  // ================================\n  // Fetch All Categories\n  // ================================\n  const fetchCategories = async () => {\n    try {\n      const { data } = await axios.get(API_BASE);\n      if (Array.isArray(data)) setCategories(data);\n      else if (Array.isArray(data.data)) setCategories(data.data);\n      else setCategories([]);\n    } catch (err) {\n      console.error(\"Category fetch error:\", err);\n      toast.error(\"Failed to load categories\");\n    }\n  };\n\n  // ================================\n  // Fetch Frames for Dropdown\n  // ================================\n  const fetchFrames = async () => {\n    try {\n      const { data } = await axios.get(FRAME_URL);\n      console.log(\"Frames API response:\", data);\n\n      if (Array.isArray(data)) setFrames(data);\n      else if (data?.data && Array.isArray(data.data)) setFrames(data.data);\n      else setFrames([]);\n    } catch (err) {\n      console.error(\"Frame fetch error:\", err);\n      setFrames([]);\n    }\n  };\n\n  useEffect(() => {\n    fetchCategories();\n    fetchFrames();\n  }, []);\n\n  // ================================\n  // Handle Input Change\n  // ================================\n  const handleChange = (e) => {\n    const { name, value, files } = e.target;\n    if (name === \"file\") {\n      setForm({ ...form, file: files[0] });\n    } else {\n      setForm({ ...form, [name]: value });\n    }\n  };\n\n  // ================================\n  // Handle Submit (Add or Update)\n  // ================================\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    const formData = new FormData();\n    formData.append(\"name\", form.name);\n    formData.append(\"orientation\", form.orientation);\n    formData.append(\"frame\", form.frame);\n    if (form.file) formData.append(\"file\", form.file);\n\n    try {\n      setLoading(true);\n      if (editingId) {\n        await axios.put(`${API_BASE}/${editingId}`, formData);\n        toast.success(\"Category updated successfully!\");\n      } else {\n        await axios.post(API_BASE, formData);\n        toast.success(\"Category added successfully!\");\n      }\n\n      setForm({ name: \"\", orientation: \"portrait\", frame: \"\", file: null });\n      setEditingId(null);\n      fetchCategories();\n    } catch (err) {\n      console.error(\"Save category error:\", err);\n      toast.error(\"Failed to save category\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // ================================\n  // Edit Handler\n  // ================================\n  const handleEdit = (category) => {\n    setForm({\n      name: category.name,\n      orientation: category.orientation,\n      frame: category.frame?._id || \"\",\n      file: null,\n    });\n    setEditingId(category._id);\n  };\n\n  // ================================\n  // Delete Handler\n  // ================================\n  const handleDelete = async (id) => {\n    if (!window.confirm(\"Are you sure you want to delete this category?\")) return;\n    try {\n      await axios.delete(`${API_BASE}/${id}`);\n      toast.success(\"Category deleted successfully!\");\n      fetchCategories();\n    } catch (err) {\n      console.error(\"Delete category error:\", err);\n      toast.error(\"Failed to delete category\");\n    }\n  };\n\n  return (\n    <div className=\"category-container\">\n      <h2>Manage Categories</h2>\n\n      <Form onSubmit={handleSubmit} className=\"category-form\">\n        <Form.Group>\n          <Form.Label>Category Name</Form.Label>\n          <Form.Control\n            type=\"text\"\n            name=\"name\"\n            value={form.name}\n            onChange={handleChange}\n            placeholder=\"Enter category name\"\n            required\n          />\n        </Form.Group>\n\n        <Form.Group>\n          <Form.Label>Orientation</Form.Label>\n          <Form.Select\n            name=\"orientation\"\n            value={form.orientation}\n            onChange={handleChange}\n          >\n            <option value=\"portrait\">Portrait</option>\n            <option value=\"landscape\">Landscape</option>\n          </Form.Select>\n        </Form.Group>\n\n        <Form.Group>\n          <Form.Label>Select Frame</Form.Label>\n          <Form.Select name=\"frame\" value={form.frame} onChange={handleChange}>\n            <option value=\"\">Select Frame</option>\n            {frames.map((f) => (\n              <option key={f._id} value={f._id}>\n                {f.title || f.name}\n              </option>\n            ))}\n          </Form.Select>\n        </Form.Group>\n\n        <Form.Group>\n          <Form.Label>Upload File</Form.Label>\n          <Form.Control type=\"file\" name=\"file\" onChange={handleChange} />\n        </Form.Group>\n\n        <Button type=\"submit\" disabled={loading} className=\"submit-btn\">\n          {loading ? <Spinner animation=\"border\" size=\"sm\" /> : editingId ? \"Update\" : \"Add\"} Category\n        </Button>\n      </Form>\n\n      <hr />\n\n      <h4>Category List</h4>\n      <Table bordered hover responsive className=\"category-table\">\n        <thead>\n          <tr>\n            <th>Name</th>\n            <th>Orientation</th>\n            <th>Frame</th>\n            <th>Image</th>\n            <th>Status</th>\n            <th>Actions</th>\n          </tr>\n        </thead>\n        <tbody>\n          {categories.length > 0 ? (\n            categories.map((cat) => (\n              <tr key={cat._id}>\n                <td>{cat.name}</td>\n                <td>{cat.orientation}</td>\n                <td>{cat.frame?.title || cat.frame?.name || \"â€”\"}</td>\n                <td>\n                  {cat.filePath ? (\n                    <img\n                      src={cat.filePath}\n                      alt={cat.name}\n                      style={{ width: 60, height: 60, borderRadius: \"8px\" }}\n                    />\n                  ) : (\n                    \"No Image\"\n                  )}\n                </td>\n                <td>{cat.status}</td>\n                <td>\n                  <Button\n                    size=\"sm\"\n                    variant=\"warning\"\n                    onClick={() => handleEdit(cat)}\n                  >\n                    Edit\n                  </Button>{\" \"}\n                  <Button\n                    size=\"sm\"\n                    variant=\"danger\"\n                    onClick={() => handleDelete(cat._id)}\n                  >\n                    Delete\n                  </Button>\n                </td>\n              </tr>\n            ))\n          ) : (\n            <tr>\n              <td colSpan={6} className=\"text-center\">\n                No categories found\n              </td>\n            </tr>\n          )}\n        </tbody>\n      </Table>\n    </div>\n  );\n};\n\nexport default Categories;\n"],"mappings":";;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,KAAK,QAAQ,gBAAgB;AACtC,SAASC,KAAK,EAAEC,MAAM,EAAEC,IAAI,EAAEC,OAAO,QAAQ,iBAAiB;AAC9D,OAAO,kBAAkB;AAAC,SAAAC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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}